"use strict";const i={},f=o=>{const{type:e,target:n,currentTarget:a}=o;[...i[e]].forEach(([s,t])=>{[a,n].includes(s)&&[...t].forEach(([c,r])=>{c.apply(s,[o]),typeof r=="object"&&r.once&&d(s,e,c,r)})})},g=(o,e,n,a)=>{i[e]||(i[e]=new Map);const s=i[e];s.has(o)||s.set(o,new Map);const t=s.get(o),{size:c}=t;t.set(n,a),c||o.addEventListener(e,f,a)},d=(o,e,n,a)=>{const s=i[e],t=s&&s.get(o),c=t&&t.get(n),r=c!==void 0?c:a;t&&t.has(n)&&t.delete(n),s&&(!t||!t.size)&&s.delete(o),(!s||!s.size)&&delete i[e],(!t||!t.size)&&o.removeEventListener(e,f,r)},E={on:g,off:d,globalListener:f,registry:i};module.exports=E;
//# sourceMappingURL=event-listener.cjs.map

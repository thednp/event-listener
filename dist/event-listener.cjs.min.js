"use strict";// Listener v2.0.0alpha3 | thednp Â© 2022 | MIT-License
var E=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var L=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var h=(n,t)=>{for(var o in t)E(n,o,{get:t[o],enumerable:!0})},l=(n,t,o,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of L(t))!M.call(n,e)&&e!==o&&E(n,e,{get:()=>t[e],enumerable:!(i=g(t,e))||i.enumerable});return n};var u=n=>l(E({},"__esModule",{value:!0}),n);var z={};h(z,{EventRegistry:()=>r,addListener:()=>v,default:()=>x,globalListener:()=>f,removeListener:()=>p});module.exports=u(z);var r={};function f(n){let t=this,{type:o}=n;[...r[o]].forEach(i=>{let[e,s]=i;e===t&&[...s].forEach(a=>{let[d,c]=a;d.apply(e,[n]),c&&c.once&&p(e,o,d,c)})})}var v=(n,t,o,i)=>{r[t]||(r[t]=new Map);let e=r[t];e.has(n)||e.set(n,new Map);let s=e.get(n);if(typeof s>"u")return;let{size:a}=s;s.set(o,i),a||n.addEventListener(t,f,i)},p=(n,t,o,i)=>{let e=r[t],s=e&&e.get(n),a=s&&s.get(o),d=a!==void 0?a:i;s&&s.has(o)&&s.delete(o),e&&(!s||!s.size)&&e.delete(n),(!e||!e.size)&&delete r[t],(!s||!s.size)&&n.removeEventListener(t,f,d)},x={on:v,off:p,globalListener:f,registry:r};
//# sourceMappingURL=event-listener.cjs.min.js.map
